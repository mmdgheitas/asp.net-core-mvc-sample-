
@{
    Layout = "_Layout_admin";
}
@model List<be.Sold>
@using Microsoft.AspNetCore.Identity;
@inject UserManager<be.user> Userm







<aside class="sidenav-main nav-expanded nav-lock nav-collapsible sidenav-light sidenav-active-square">
    <div class="brand-sidebar">
        <h1 class="logo-wrapper">
            <a class="brand-logo darken-1">
                <img class="hide-on-med-and-down" src="~/material/images/logo/materialize-logo-color.png" alt="materialize logo" /><img class="show-on-medium-and-down hide-on-med-and-up" src="~/material/images/logo/materialize-logo.png"
                                                                                                                                        alt="materialize logo" /><span class="logo-text hide-on-med-and-down">متریالایز</span>
            </a><a class="navbar-toggler" href="#"><i class="material-icons">radio_button_checked</i></a>
        </h1>
    </div>
    <ul class="sidenav sidenav-collapsible leftside-navigation collapsible sidenav-fixed menu-shadow" id="slide-out" data-menu="menu-navigation" data-collapsible="menu-accordion">
        <li class="active bold">
            <a asp-action="update_delete" class="waves-effect waves-cyan active" target="_blank">update_delete</a>
        </li>
        <li class="bold">
            <a asp-action="solds" class="waves-effect waves-cyan" target="_blank">solds</a>
        </li>
        <li class="bold">
            <a asp-action="Votes" class="waves-effect waves-cyan" target="_blank">Votes</a>
        </li>
    </ul>
    <div class="navigation-background"></div><a class="sidenav-trigger btn-sidenav-toggle btn-floating btn-medium waves-effect waves-light hide-on-large-only" href="#" data-target="slide-out"><i class="material-icons">menu</i></a>
</aside>

<div id="main">
    <div class="row">
        <div class="content-wrapper-before gradient-45deg-indigo-purple"></div>
        <div class="breadcrumbs-dark pb-0 pt-4" id="breadcrumbs-wrapper">
            <div class="container">
                <div class="row">
                    <div class="col s10 m6 l6">
                        <h5 class="breadcrumbs-title mt-0 mb-0"><span>جدول اساسی</span></h5>
                        <ol class="breadcrumbs mb-0">
                            <li class="breadcrumb-item">
                                <a href="index-2.html">خانه</a>
                            </li>
                            <li class="breadcrumb-item">
                                <a href="#">جدول</a>
                            </li>
                            <li class="breadcrumb-item active">
                                جدول اساسی
                            </li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <div class="col s12">
            <div class="container">
                <div class="section">
                    <div class="row">
                        <div class="col s12 m12 l12">
                            <div id="highlight-table" class="card card card-default scrollspy">
                                <div class="card-content">
                                    <h4 class="card-title">جدول برجسته</h4>
                                    <p class="mb-2">
                                        اضافه کردن <code class=" language-markup">class="Highlight"</code> به برچسب جدول برای یک میز برجسته
                                    </p>

                                    @if (Model != null && Model.Count != 0)
                                    {
        <div class="row">
            <div class="col s12 m12 l12">
                <div id="highlight-table" class="card card card-default scrollspy">
                    <div class="card-content">
                        <h4 class="card-title">جدول برجسته</h4>
                        <p class="mb-2">
                            اضافه کردن <code class=" language-markup">class="Highlight"</code> به برچسب جدول برای یک میز برجسته
                        </p>
                        <div class="row">
                            <div class="col s12">
                            </div>
                            <div class="col s12 table">
                                <table class="highlight">
                                    <thead>
                                        <tr>
                                            <th data-field="name">وضعیت پرداخت</th>
                                            <th data-field="name">نام خریدار</th>
                                            <th data-field="name">نام خانوداگی خریدار</th>
                                            <th data-field="name">نام آیتم</th>
                                            <th data-field="code">کد آیتم</th>
                                            <th data-field="code">تعداد آیتم</th>
                                            <th data-field="size">سایز آیتم</th>
                                            <th data-field="color">رنگ آیتم</th>
                                            <th data-field="price">کد پستی</th>
                                            <th data-field="exist">ادرس</th>
                                            <th data-field="img">موبایل</th>
                                            <th data-field="detail">توضیحات</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                                                        @{
                                                                            var q = Model.Where(i => i.pay == true && i.seller_idId == Userm.FindByNameAsync(User.Identity.Name).Result.Id);
                                                                        }
                                                                        @foreach (var i in q.ToList())
                                                                        {
                                                <tr>
                                                    <td>@i.pay</td>
                                                    <td>@i.customer.UserName</td>
                                                    <td>@i.customer.family</td>
                                                                                <td>@i.items.name</td>
                                                                                <td>@i.items.code_mahsoul</td>
                                                    <td>@i.tedad</td>
                                                    <td>@i.size</td>
                                                    <td>@i.color</td>
                                                    <td>@i.code_posti</td>
                                                    <td>@i.customer.address</td>
                                                    <td>@i.customer.mobile</td>
                                                    <td>@i.detail</td>
                                                </tr>

                                                                        }
                                    </tbody>
                                </table>
                                <div class="dataTables_paginate paging_simple_numbers" id="data-table-row-grouping_paginate">
                                    <span>
                                                                        @{

                                                                            BLL.bladmin bla = new BLL.bladmin();
                                                                            int a = bla.GetAllSolds();

                                                                            for (int i = 1; i < a; i++)
                                                                            {
                                                        <a class="paginate_button" asp-action="solds" asp-route-s="@i">@i</a>
                                                                            }
                                                                        }
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
                                    }
                                    else
                                    {
        <div class="center text-danger">لیست خالی است</div>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="bottom: 50px; right: 19px;" class="fixed-action-btn direction-top">
                    <a class="btn-floating btn-large gradient-45deg-light-blue-cyan gradient-shadow"><i class="material-icons">add</i></a>
                    <ul>
                        <li><a href="css-helpers.html" class="btn-floating blue"><i class="material-icons">help_outline</i></a></li>
                        <li><a href="cards-extended.html" class="btn-floating green"><i class="material-icons">widgets</i></a></li>
                        <li><a href="app-calendar.html" class="btn-floating amber"><i class="material-icons">today</i></a></li>
                        <li><a href="app-email.html" class="btn-floating red"><i class="material-icons">mail_outline</i></a></li>
                        <li><a asp-action="addingPage" class="btn-floating red"><i class="material-icons">add</i></a></li>
                        @{
                            string id = Userm.FindByNameAsync(User.Identity.Name).Result.Id;
                        }
                        <li><a asp-action="Items_List" asp-route-id="@id" class="btn-floating green"><i class="material-icons">see</i></a></li>
                    </ul>
                </div>
            </div>
            <div class="content-overlay"></div>
        </div>
    </div>
</div>





